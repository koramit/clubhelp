(self.webpackChunk=self.webpackChunk||[]).push([[302],{8802:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var o=r(5166),l={key:0},a={class:"inline-flex items-center cursor-pointer"},n={class:"relative"},i={class:"ml-3 text-sm md:text-base xl:text-lg"},c={key:1},s={class:"inline-flex items-center cursor-pointer "},d={class:"text-bitter-theme-light"},u={class:"ml-4 text-sm md:text-base xl:text-lg"};const p={emits:["update:modelValue","autosave"],props:{modelValue:{type:Boolean},label:{type:String,default:""},toggler:{type:Boolean}},methods:{change:function(){this.$emit("update:modelValue",!this.modelValue),this.$emit("autosave")},check:function(){this.$emit("update:modelValue",!this.modelValue)}},render:function(e,t,r,p,m,f){return r.toggler?((0,o.openBlock)(),(0,o.createBlock)("div",l,[(0,o.createVNode)("label",a,[(0,o.createVNode)("div",n,[(0,o.createVNode)("input",{type:"checkbox",class:"hidden",onChange:t[1]||(t[1]=function(){return f.change&&f.change.apply(f,arguments)})},null,32),(0,o.createVNode)("div",{class:["w-8 h-5 bg-gray-200 rounded-full shadow-inner transition-all duration-200 ease-in-out",{"bg-bitter-theme-light":r.modelValue}]},null,2),(0,o.createVNode)("div",{class:["absolute w-5 h-5 bg-white rounded-full shadow inset-y-0 left-0 transition-all duration-200 ease-in-out transform",{"translate-x-3":r.modelValue}]},null,2)]),(0,o.createVNode)("div",i,(0,o.toDisplayString)(r.label),1)])])):((0,o.openBlock)(),(0,o.createBlock)("div",c,[(0,o.createVNode)("label",s,[(0,o.createVNode)("span",d,[(0,o.createVNode)("input",{type:"checkbox",class:"shadow-xs h-6 w-6 transition-all duration-200 ease-in-out appearance-none color inline-block align-middle border border-dark-theme-light select-none flex-shrink-0 rounded cursor-pointer focus:outline-none",checked:r.modelValue,onChange:t[2]||(t[2]=function(){return f.change&&f.change.apply(f,arguments)})},null,40,["checked"])]),(0,o.createVNode)("span",u,(0,o.toDisplayString)(r.label),1)])]))}},m=p},4870:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var o=r(5166),l={class:"w-full"},a={key:1,class:"flex"},n={class:"w-auto flex items-center px-2 border-2 border-gray-200 rounded shadow-sm border-l-0 rounded-l-none bg-gray-50"},i={class:"inline-flex items-center"},c={class:"ml-4 text-lg cursor-pointer whitespace-nowrap"},s={key:3,class:"text-red-700 mt-2 text-sm"};const d={emits:["autosave","update:modelValue","update:modelCheckbox"],props:{modelValue:{type:String,required:!0},modelCheckbox:{type:Boolean},name:{type:String,required:!0},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},pattern:{type:String,default:""},readonly:{type:Boolean},error:{type:String,default:""},switchLabel:{type:String,default:""}},methods:{focus:function(){this.$refs.input.focus()},change:function(){this.$emit("update:modelCheckbox",!this.modelCheckbox),this.$emit("autosave")}},render:function(e,t,r,d,u,p){return(0,o.openBlock)(),(0,o.createBlock)("div",l,[r.label?((0,o.openBlock)(),(0,o.createBlock)("label",{key:0,class:"form-label",for:r.name},(0,o.toDisplayString)(r.label)+" :",9,["for"])):(0,o.createCommentVNode)("",!0),r.switchLabel?((0,o.openBlock)(),(0,o.createBlock)("div",a,[(0,o.createVNode)("input",{id:r.name,name:r.name,ref:"input",onInput:t[1]||(t[1]=function(t){return e.$emit("update:modelValue",e.$refs.input.value)}),onChange:t[2]||(t[2]=function(t){return e.$emit("autosave")}),type:r.type,placeholder:r.placeholder,pattern:r.pattern,readonly:r.readonly,value:r.modelValue,class:["form-input border-r-0 rounded-r-none",{"border-red-400":e.errors.length}]},null,42,["id","name","type","placeholder","pattern","readonly","value"]),(0,o.createVNode)("div",n,[(0,o.createVNode)("label",i,[(0,o.createVNode)("input",{type:"checkbox",class:"shadow-xs h-6 w-6 transition-all duration-200 ease-in-out appearance-none color inline-block align-middle border border-gray-400 select-none flex-shrink-0 rounded cursor-pointer focus:outline-none",checked:r.modelCheckbox,onChange:t[3]||(t[3]=function(){return p.change&&p.change.apply(p,arguments)})},null,40,["checked"]),(0,o.createVNode)("span",c,(0,o.toDisplayString)(r.switchLabel),1)])])])):((0,o.openBlock)(),(0,o.createBlock)("input",{key:2,id:r.name,name:r.name,ref:"input",onInput:t[4]||(t[4]=function(t){return e.$emit("update:modelValue",e.$refs.input.value)}),onChange:t[5]||(t[5]=function(t){return e.$emit("autosave")}),type:r.type,placeholder:r.placeholder,pattern:r.pattern,readonly:r.readonly,value:r.modelValue,class:["form-input",{"border-red-400 text-red-400":r.error}]},null,42,["id","name","type","placeholder","pattern","readonly","value"])),r.error?((0,o.openBlock)(),(0,o.createBlock)("div",s,(0,o.toDisplayString)(r.error),1)):(0,o.createCommentVNode)("",!0)])}},u=d},3917:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var o=r(5166),l={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},a=(0,o.createVNode)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n=(0,o.createVNode)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1);const i={emits:["click"],props:{disabled:{type:Boolean},spin:{type:Boolean}},render:function(e,t,r,i,c,s){return(0,o.openBlock)(),(0,o.createBlock)("button",{type:"button",class:"inline-flex justify-center items-center btn",onClick:t[1]||(t[1]=function(t){return e.$emit("click")}),disabled:r.disabled||r.spin},[r.spin?((0,o.openBlock)(),(0,o.createBlock)("svg",l,[a,n])):(0,o.createCommentVNode)("",!0),(0,o.renderSlot)(e.$slots,"default")],8,["disabled"])}},c=i},1302:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var o=r(5166),l={class:"flex flex-col justify-center items-center w-full min-h-screen p-4"},a=(0,o.createVNode)("div",{class:"flex flex-col justify-center items-center w-28 h-28 rounded-full shadow-sm font-fascinate-inline bg-bitter-theme-light text-dark-theme-light text-3xl z-10"},[(0,o.createVNode)("div",{class:" text-thick-theme-light"}," Club "),(0,o.createVNode)("div",{class:" text-soft-theme-light"}," HELP ")],-1),n={class:"mt-4 px-4 py-8 w-80 bg-white rounded shadow transform -translate-y-16"},i=(0,o.createVNode)("div",{class:"font-fascinate-inline font-semibold text-thick-theme-light text-xl mt-8 text-center"}," Register ",-1),c={class:"block text-center text-dark-theme-light"},s={class:"font-semibold"},d={key:0},u=(0,o.createTextVNode)(" ACTIVATE "),p={key:1},m=(0,o.createVNode)("small",null,"feel free to choose any name you like",-1),f=(0,o.createTextVNode)(" REGISTER ");var h=r(8802),b=r(4870),g=r(3917),y=r(9669),k=r.n(y);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const x={components:{FormInput:b.Z,FormCheckbox:h.Z,SpinnerButton:g.Z},props:{socialProfile:{type:Object,required:!0}},data:function(){var e;return{credential:{login:"",password:""},errors:{activate:""},busy:!1,profile:{},form:{email:null!==(e=this.socialProfile.email)&&void 0!==e?e:"",full_name:"",name:"",tel_no:"",agreement_accepted:!1}}},created:function(){document.title="Register"},mounted:function(){this.$nextTick((function(){var e=document.getElementById("page-loading-indicator");e&&e.remove()}))},methods:{activate:function(){var e=this;this.busy=!0,this.errors.activate="",k().post("".concat(this.$page.props.app.baseUrl,"/activate"),this.credential).then((function(t){t.data.found?(e.profile=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t.data),e.form.full_name=e.profile.name):(e.errors.activate=t.data.message,e.credential.password=""),e.busy=!1})).catch((function(t){e.errors.activate="Service unavailable at the moment, please try again.",e.busy=!1}))},register:function(){var e=this;this.form.org_id=this.profile.org_id,this.form.remark=this.profile.remark,this.form.login=this.profile.login,this.form.full_name_en=this.profile.name_en,this.form.password_expires_in_days=this.profile.password_expires_in_days,this.busy=!0,this.$inertia.post("".concat(this.$page.props.app.baseUrl,"/register"),this.form,{onError:function(){e.busy=!1}})}},render:function(e,t,r,h,b,g){var y=(0,o.resolveComponent)("form-input"),k=(0,o.resolveComponent)("spinner-button"),V=(0,o.resolveComponent)("form-checkbox");return(0,o.openBlock)(),(0,o.createBlock)("div",l,[a,(0,o.createVNode)("div",n,[i,(0,o.createVNode)("small",c,[(0,o.createTextVNode)("with "+(0,o.toDisplayString)("".concat(r.socialProfile.name,"@")),1),(0,o.createVNode)("span",s,(0,o.toDisplayString)(r.socialProfile.provider.toUpperCase()),1)]),b.profile.found?((0,o.openBlock)(),(0,o.createBlock)("div",p,[(0,o.createVNode)(y,{class:"mt-6",name:"name",label:"display name",modelValue:b.form.name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return b.form.name=e}),error:e.$page.props.errors.name},null,8,["modelValue","error"]),m,(0,o.createVNode)(y,{class:"mt-4",name:"full_name",label:"name",modelValue:b.form.full_name,"onUpdate:modelValue":t[4]||(t[4]=function(e){return b.form.full_name=e}),readonly:!0,error:e.$page.props.errors.org_id},null,8,["modelValue","error"]),(0,o.createVNode)(y,{class:"mt-4",type:"tel",name:"tel_no",label:"tel no",modelValue:b.form.tel_no,"onUpdate:modelValue":t[5]||(t[5]=function(e){return b.form.tel_no=e}),error:e.$page.props.errors.tel_no},null,8,["modelValue","error"]),r.socialProfile.email?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(y,{key:0,class:"mt-4",name:"email",label:"email",modelValue:b.form.email,"onUpdate:modelValue":t[6]||(t[6]=function(e){return b.form.email=e}),error:e.$page.props.errors.email},null,8,["modelValue","error"])),(0,o.createVNode)(V,{class:"mt-4",modelValue:b.form.agreement_accepted,"onUpdate:modelValue":t[7]||(t[7]=function(e){return b.form.agreement_accepted=e}),label:"Accept Policies",toggler:!0},null,8,["modelValue"]),(0,o.createVNode)("a",{href:"".concat(e.$page.props.app.baseUrl,"/policies"),class:"mt-4 block text-thick-theme-light",target:"_blank"},"Policies and Terms of use",8,["href"]),(0,o.createVNode)(k,{spin:b.busy,class:"btn-dark mt-6 w-full",onClick:g.register,disabled:!(b.form.name&&b.form.email&&b.form.tel_no&&b.form.agreement_accepted)},{default:(0,o.withCtx)((function(){return[f]})),_:1},8,["spin","onClick","disabled"])])):((0,o.openBlock)(),(0,o.createBlock)("div",d,[(0,o.createVNode)(y,{class:"mt-8",name:"login",label:"login",modelValue:b.credential.login,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b.credential.login=e}),error:b.errors.activate},null,8,["modelValue","error"]),(0,o.createVNode)(y,{class:"mt-6",type:"password",name:"password",label:"password",modelValue:b.credential.password,"onUpdate:modelValue":t[2]||(t[2]=function(e){return b.credential.password=e})},null,8,["modelValue"]),(0,o.createVNode)(k,{spin:b.busy,class:"btn-dark mt-6 w-full",onClick:g.activate,disabled:!b.credential.login||!b.credential.password},{default:(0,o.withCtx)((function(){return[u]})),_:1},8,["spin","onClick","disabled"])]))])])}},w=x}}]);